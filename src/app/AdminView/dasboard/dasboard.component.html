<div id="wrapper">
  <div class="d-flex flex-column mt-4" id="content-wrapper">
    <div id="content">
      <div class="container-fluid">
        <!-- Header -->
        <div class="d-sm-flex justify-content-between align-items-center mb-4">
          <h3 class="text-dark mb-0">Dashboard</h3>
          <a class="btn btn-primary btn-sm d-none d-sm-inline-block" role="button" href="#">
            <i class="fas fa-download fa-sm text-white-50"></i>&nbsp;Generate Report
          </a>
        </div>

        <!-- Summary Cards -->
        <div class="row">
          <div class="col-md-6 col-lg-3 mb-4">
            <div class="card card-equal-height shadow border-start-primary py-2">
              <div class="card-body">
                <div class="row align-items-center no-gutters">
                  <div class="col me-2">
                    <div class="text-uppercase text-primary fw-bold text-xs mb-1">
                      <span>Total number of users:</span>
                    </div>
                    <div class="text-dark fw-bold h5 mb-0  ">
              <span class="sizetext" >{{ userCount }}
                <div *ngIf="userCount === 0">
                  <p>Loading...</p>
                </div>
              </span>
                    </div>
                  </div>
                  <div class="col-auto">
                    <i class="fas fa-users fa-2x text-gray-300"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-6 col-lg-3 mb-4">
            <div class="card card-equal-height shadow border-start-success py-2">
              <div class="card-body">
                <div class="row align-items-center no-gutters">
                  <div class="col me-2">
                    <div class="text-uppercase text-success fw-bold text-xs mb-1">
                      <span>Total number of Communities:</span>
                    </div>
                    <div class="text-dark fw-bold h5 mb-0">
              <span class="sizetext" >{{ communityCount }}
                <div *ngIf="communityCount === 0">
                  <p>Loading...</p>
                </div>
              </span>
                    </div>
                  </div>
                  <div class="col-auto">
                    <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-6 col-lg-3 mb-4">
            <div class="card card-equal-height shadow border-start-info py-2">
              <div class="card-body">
                <div class="row align-items-center no-gutters">
                  <div class="col me-2">
                    <div class="text-uppercase text-info fw-bold text-xs mb-1">
                      <span>Top Community with Most Members:</span>
                    </div>
                    <div class="row g-0 align-items-center">
                      <div class="col-auto">
                        <div class="text-dark fw-bold h6 mb-0 me-3">
                          <p>{{ topCommunity?.name }} - {{ topCommunity?.memberCount }} members</p>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-auto">
                    <i class="fas fa-clipboard-list fa-2x text-gray-300"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-6 col-lg-3 mb-4">
            <div class="card card-equal-height shadow border-start-warning py-2">
              <div class="card-body">
                <div class="row align-items-center no-gutters">
                  <div class="col me-2">
                    <div class="text-uppercase text-warning fw-bold text-xs mb-1">
                      <span>Pending Requests</span>
                    </div>
                    <div class="text-dark fw-bold h5 mb-0">
                      <span>18</span>
                    </div>
                  </div>
                  <div class="col-auto">
                    <i class="fas fa-comments fa-2x text-gray-300"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Charts Row 1 -->
        <div class="row">
          <div class="col-lg-6 mb-4">
            <div class="card shadow mb-4">
              <div class="card-header py-3">
                <h6 class="text-primary fw-bold m-0">Most Active Communities by Posts</h6>
              </div>
              <div class="card-body">
                <div class="chart-container">
                  <canvas baseChart [data]="chartDataCommunity" [options]="chartOptions" [type]="chartTypeCommunity"></canvas>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-6 mb-4">
            <div class="card shadow mb-4">
              <div class="card-header py-3">
                <h6 class="text-primary fw-bold m-0">Users with the Most Posts</h6>
              </div>
              <div class="card-body">
                <div class="chart-container">
                  <canvas baseChart [datasets]="chartDataUsers.datasets" [labels]="chartDataUsers.labels" [options]="chartOptions" [type]="chartTypeUsers"></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Charts Row 2 -->
        <div class="row">
          <div class="col-lg-6 mb-4">
            <div class="card shadow mb-4">
              <div class="card-header py-3">
                <h6 class="text-primary fw-bold m-0">Yearly Post Breakdown</h6>
              </div>
              <div class="card-body">
                <div class="chart-container"  style="width: 50% ;margin-left: 25%">
                  <canvas baseChart [datasets]="chartDataYear.datasets" [labels]="chartDataYear.labels" [options]="chartOptions" [type]="chartTypeYear"></canvas>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-6 mb-4">
            <div class="card shadow mb-4">
              <div class="card-header py-3">
                <h6 class="text-primary fw-bold m-0">Post Breakdown by Year and Month</h6>
              </div>
              <div class="card-body">
                <div class="chart-container" style="width: 50% ;margin-left: 25%">

                <canvas baseChart [datasets]="chartDataYearMonth.datasets" [labels]="chartDataYearMonth.labels" [options]="chartOptions" [type]="chartTypeYearMonth"></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-6 mb-4">
            <div class="card shadow mb-4">
              <div class="card-header py-3">
                <h6 class="text-primary fw-bold m-0">Most Active Users on TEK-COM</h6>
              </div>
              <div class="card-body">
                <div class="chart-container">
                  <canvas baseChart
                          [datasets]="chartDataLogins.datasets"
                          [labels]="chartDataLogins.labels"
                          [options]="chartOptions"
                          [type]="chartTypeLogins">
                  </canvas>                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-6 mb-4">
            <div class="card shadow mb-4">
              <div class="card-header py-3">
                <h6 class="text-primary fw-bold m-0">Community Membership Overview</h6>
              </div>
              <div class="card-body">
                <div class="chart-container" >
                  <div class="chart-container">
                    <canvas baseChart
                            [datasets]="chartDatamembersCommunity.datasets"
                            [labels]="chartDatamembersCommunity.labels"
                            [options]="chartOptions"
                            [type]="chartTypemembersCommunity">
                    </canvas>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <a class="border rounded d-inline scroll-to-top" href="#page-top">
    <i class="fas fa-angle-up"></i>
  </a>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.min.js"></script>
<script src="assets/js/script.min.js"></script>
